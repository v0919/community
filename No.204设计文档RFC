薄板弯曲模块设计文档

一、概述
1、相关背景
PaddlePaddle Hackathon飞桨黑客马拉松第四期，赛道二：模型套件开源贡献，飞桨科学计算套件，No.204：开放赛题：车辆标准部件受力、变形分析【PaddlePaddle Hackathon 4】模型套件开源贡献任务合集 · Issue #50631 · PaddlePaddle/Paddle (github.com)
2、功能目标
“本任务属于开放性赛题”，围绕汽车、飞机等装备的零部件，进行结构变形、受力分析。本课题选择汽车某标准部件，如下图所示。具体解决两类问题：
1）能够评估在给定任意的截面外形下，可得到不变的约束、负载条件下的结构受力结果，如应力、形变
2）能够基于目标的应力、变形，可以逆向优化得到部件截面的理想外形特征
 
车辆零部件示意（截面图）
其中提供的数据集生成流程如下：
1）在给定位移约束和力载荷的情况下，通过改变零部件截面的性质（如改变截面参数化的尺寸），生成该零部件在不同截面下的应力和位移。采用多种不同截面对应的应力、变形结果，从而得到训练数据集
2）数据集中包含了部件在不同的截面特征参数、复杂、约束条件下对应的各个节点的应力、变形，以及变化后的空间坐标信息，示意如下：
 
任务具体描述如下：
	如上图所示，黑色线条处施加位移约束（fixed），同时在部件右端施加力载荷
	针对同一位移约束和力载荷，给定不同截面参数（如宽度、长度、斜度等参数），生成这个零件的不同截面下的应力和位移
	注：上述宽度，长度，斜度等可以作为截面参数化外形的特征参数
	结合给定的数据集，自选神经网络构建部件应力、位移预测模型，能够解决任意给定部件截面下的应力、位移预测。
	结合给定的数据集，自选神经网络构建部件截面参数特征逆向预测模型，能够解决任意给定目标应力、位移值的前提下，可以得到最优的部件截面特征。
具体任务要求如下：
	基于飞桨框架，选择合适的网络模型（如Transformer、GNN等）实现部件变形分析中的正问题与逆问题
3、意义
通过本次升级开发，使paddlescience具有直接面向工程结构的建模能力。
二、飞桨现状
飞桨目前具有求解PDE的功能，可以基于PDE建模，计算结构的应力和变形，但是这样不方便工程应用。
本次开发面向工程结构，应用工程师只需要输入结构参数、载荷及约束，就可以进行建模计算，得到需要的结果。
三、业内方案调研
目前求解PDE多用PINN或hPINN，PHYSICS-INFORMED NEURAL NETWORKS WITH HARD CONSTRAINTS FOR INVERSE DESIGN，arXiv:2102.04626v1。
对于多任务神经网络，采用GradNorm方法进行损失函数正则化处理，GradNorm: Gradient Normalization for Adaptive Loss Balancing in Deep Multitask Networks，arXiv:1711.02257v4。
四、对比分析
本次开发利用第三部分所述的求解PDE的理论方法，用于工程结构的建模和计算。
五、设计思路与实现方案
工程结构往往是多个构件组成的组合结构，为了使软件具有灵活的建模能力，就有先对单个构件建模再组装成整个结构的需要。
例如由板组成的箱型结构，本次开发就是开发具有组装功能的板的建模和计算软件模块。在结构上板分为薄板和厚板，它们的PDE方程不同，本次开发主要做薄板。
为了进行结构组装，组装关系用硬约束实现，结构件之间能够进行坐标系转换，最终计算结果可以在整体坐标系和局部坐标系显示。
本次开发基于PadlleScience/DeepXDE，网络模型训练可以用PDE方程和数据进行。

命名与参数设计
参考：飞桨API 设计及命名规范
底层OP设计
API实现方案
六、测试和验收的考量
参考：新增API 测试及验收规范
七、可行性分析和排期规划
时间和开发排期规划，主要milestone
八、影响面
需要进一步讨论的问题，开放性问题，有争议问题；对其他模块是否有影响
名词解释
附件及参考资料

